<h2>Leave Request List</h2>

<label>
  Enter Employee ID:
  <input type="number" [(ngModel)]="searchEmployeeId" placeholder="Employee ID" />
</label>
<button (click)="filterByEmployeeId()">Search</button>


<button (click)="addLeaveRequest()">Create New Swap Request</button>
<button (click)="viewRequests()">View Pending Requests</button>
<button (click)="manageApprovals()">Manage Approvals</button>
<button (click)="viewAllRequests()">View All Requests</button> <!-- Ensure this button calls the correct function -->

<table border="1">
  <thead>
    <tr>
      <th>ID</th>
      <th>Requester Employee ID</th>
      <th>Leave Type</th>
      <th>Leave reason</th>
      <th>Start Date</th>
      <th>End date</th>
      <th>Requested date</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let request of leaveRequests">
      <td>{{ request.leaveRequestId }}</td>
      <td>{{ request.employeeId }}</td>
      <td>{{ request.leaveType }}</td>
      <td>{{ request.reason }}</td>
      <td>{{ request.startDate }}</td>
      <td>{{ request.endDate }}</td>
      <td>{{ request.requestDate }}</td>
      <td>{{ request.status }}</td>
      <td>
          <button (click)="viewRequestDetails(request.leaveRequestId)">View</button>
          <button (click)="edit(request.leaveRequestId)">Edit</button>
          <button (click)="delete(request.leaveRequestId)">Delete</button>
      </td>
    </tr>
    <tr *ngIf="leaveRequests.length === 0">
        <td colspan="7">No leave requests found.</td>
    </tr>
  </tbody>
</table>
