

<div class="dashboard-container">
  <div class="header">
    <h2><i class="fas fa-tachometer-alt"></i> Leave and Attendance Management System</h2>
  </div>


<!-- Top Navigation Bar -->
<div class="navbar mx-3">
  <div class="navbar-left">
    <h3>Welcome, {{ userDetails?.name === "Unknown User" ? "Admin User" : userDetails?.name }}</h3>
  </div>
  <div class="navbar-right">
    <div class="user-menu" (click)="toggleUserMenu()">
      <i class="fas fa-user-circle"></i>
      <span></span>
    </div>

    <div class="user-dropdown" *ngIf="showUserMenu">
      <p><i class="fas fa-id-badge"></i> {{ userDetails?.employeeId }}</p>
<p><i class="fas fa-user"></i> {{ userDetails?.name }}</p>
<p><i class="fas fa-envelope"></i> {{ userDetails?.email }}</p>
<p><i class="fas fa-briefcase"></i> {{ userDetails?.title === "N/A" ? "HR Manager" : userDetails?.title }}</p>
<p><i class="fas fa-building"></i> {{ userDetails?.department }}</p>
<p><i class="fas fa-user-tag"></i> {{ userDetails?.roles?.join(', ') || 'No roles assigned' }}</p>
<p><i class="fas fa-calendar-alt"></i> {{ userDetails?.hireDate | date:'mediumDate' }}</p>
    </div>
    <button (click)="logout()" class="m-1 logout-button">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>

  </div>
</div>

  
  

  <div *ngIf="!userDetails" class="loading-message">
    <i class="fas fa-spinner fa-spin"></i> Loading user details...
  </div>
  <div *ngIf="errorMessage" class="error-message">
    <i class="fas fa-exclamation-triangle"></i> {{ errorMessage }}
  </div>

  <div class="cards-section margin-custom">
    <div class="card" (click)="viewAttendance()">
      <i class="fas fa-calendar-check"></i>
      <span>Attendance UI</span>
    </div>
    <div *ngIf="employeeId===0" class="card" (click)="viewEmployee()">
      <i class="fas fa-users"></i>
      <span>Employee UI</span>
    </div>
    <div class="card" (click)="viewLeaveBalance()">
      <i class="fas fa-balance-scale"></i>
      <span>Leave Balance UI</span>
    </div>
    <div class="card" (click)="viewLeaveRequest()">
      <i class="fas fa-envelope-open-text"></i>
      <span>Leave Request UI</span>
    </div>
    <div class="card" (click)="viewShift()">
      <i class="fas fa-clock"></i>
      <span>Shift UI</span>
    </div>
    <div class="card" (click)="viewShiftSwap()">
      <i class="fas fa-random"></i>
      <span>Shift Swaps UI</span>
    </div>
    <div class="card" (click)="viewLeaveCharts()">
      <i class="fas fa-chart-bar"></i>
      <span>Reports UI</span>
    </div>
  </div>

  <div class="cards-section" *ngIf="hasRole('USER')">
    <div class="card" (click)="viewMyLeaveRequests()">
      <i class="fas fa-eye"></i>
      <span>My Leave Requests</span>
    </div>
    <div class="card" (click)="applyForLeave()">
      <i class="fas fa-edit"></i>
      <span>Apply for Leave</span>
    </div>
    <div class="card" (click)="viewMyLeaveBalance()">
      <i class="fas fa-balance-scale-left"></i>
      <span>My Leave Balance</span>
    </div>
    <div class="card" (click)="requestShiftSwap()">
      <i class="fas fa-exchange-alt"></i>
      <span>Request Shift Swap</span>
    </div>
    <div class="card" (click)="viewAllShifts()">
      <i class="fas fa-clock"></i>
      <span>All Shifts</span>
    </div>
    <div class="card" (click)="viewMyAttendance()">
      <i class="fas fa-calendar-day"></i>
      <span>My Attendance</span>
    </div>
    <div class="card" (click)="calculateMyWorkHours()">
      <i class="fas fa-hourglass-half"></i>
      <span>Work Hours</span>
    </div>
  </div>

  <div class="cards-section" *ngIf="hasRole('ADMIN')">
    <div class="card" (click)="manageEmployees()">
      <i class="fas fa-user-cog"></i>
      <span>Manage Employees</span>
    </div>
    <div class="card" (click)="reviewLeaveRequests()">
      <i class="fas fa-check-circle"></i>
      <span>Review Leave Requests</span>
    </div>
    <div class="card" (click)="manageLeaveBalances()">
      <i class="fas fa-sliders-h"></i>
      <span>Manage Leave Balances</span>
    </div>
    <div class="card" (click)="manageShifts()">
      <i class="fas fa-calendar-alt"></i>
      <span>Manage Shifts</span>
    </div>
    <div class="card" (click)="manageShiftSwapRequests()">
      <i class="fas fa-sync-alt"></i>
      <span>Manage Shift Swaps</span>
    </div>
    <div class="card" (click)="manageAttendance()">
      <i class="fas fa-clipboard-list"></i>
      <span>Manage Attendance</span>
    </div>
    <div class="card" (click)="generateReports()">
      <i class="fas fa-chart-line"></i>
      <span>Generate Reports</span>
    </div>
  </div>


</div>
